<script type="text/javascript">
    RED.nodes.registerType('ina3221', {
        category: 'hardware',
        color: '#a6bbcf',
        defaults: {
            name: { value: "" },
            address: { value: "0x40", required: true },
            busNumber: { value: "1", required: true },
            updateInterval: { value: "1000", required: true, validate: RED.validators.number() }
        },
        inputs: 0,
        outputs: 6,
        icon: "hardware.png",
        label: function () {
            return this.name || "INA3221";
        },
        labelStyle: function () {
            return this.name ? "node_label_italic" : "";
        }
    });
</script>

<script type="text/html" data-template-name="ina3221">
    <div class="form-row">
        <label for="node-input-name">
            <i class="fa fa-tag"></i> Name
        </label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-address">
            <i class="fa fa-cog"></i> I2C Address
        </label>
        <input type="text" id="node-input-address" placeholder="e.g., 0x40">
        <small>Default: 0x40</small>
    </div>
    <div class="form-row">
        <label for="node-input-busNumber">
            <i class="fa fa-cogs"></i> I2C Bus Number
        </label>
        <input type="text" id="node-input-busNumber" placeholder="e.g., 1">
        <small>Default: 1</small>
    </div>
    <div class="form-row">
        <label for="node-input-updateInterval">
            <i class="fa fa-clock-o"></i> Update Interval (ms)
        </label>
        <input type="text" id="node-input-updateInterval" placeholder="e.g., 1000">
        <small>Default: 1000ms</small>
    </div>
</script>

<script type="text/html" data-help-name="ina3221">
    <p>
        This node reads data from the INA3221 triple-channel voltage and current sensor.
        It has six outputs:
    </p>
    <ul>
        <li><strong>Output 1:</strong> Millivolts for Channel 1</li>
        <li><strong>Output 2:</strong> Milliamps for Channel 1</li>
        <li><strong>Output 3:</strong> Millivolts for Channel 2</li>
        <li><strong>Output 4:</strong> Milliamps for Channel 2</li>
        <li><strong>Output 5:</strong> Millivolts for Channel 3</li>
        <li><strong>Output 6:</strong> Milliamps for Channel 3</li>
    </ul>
    <p>
        Configure the I2C address, bus number, and update interval in the node properties.
    </p>
</script>

<script type="text/html" data-help-name="ina3221">
    <h3>Usage</h3>
    <p>
        Connect the six outputs to other nodes to process voltage and current readings.
    </p>
</script>
